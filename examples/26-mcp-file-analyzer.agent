NAME mcp-file-analyzer

# Example using MCP filesystem server for file operations
# Requires: mcp.servers.filesystem configured

INPUT directory DEFAULT "/tmp"
INPUT pattern DEFAULT "*.go"

AGENT analyzer FROM agents/analyzer.md REQUIRES "reasoning-heavy"

GOAL discover "List files matching $pattern in $directory. Max 10 files."
GOAL analyze "Analyze top 3-5 files. Identify main patterns briefly." USING analyzer
GOAL report "Brief report: key patterns found, 3-5 bullet points."

RUN main USING discover, analyze, report
