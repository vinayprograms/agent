# 40 - Agentfile Builder
# Generates an Agentfile from a problem description
# Can analyze files/directories referenced in the problem

NAME agentfile-builder
INPUT problem_description
INPUT output_file DEFAULT "generated.agent"

AGENT analyzer FROM agent-builder/understand-problem.md
AGENT syntax-expert FROM agent-builder/agentfile-syntax.md
AGENT generator FROM agent-builder/generate-agentfile.md

GOAL understand "Analyze problem: $problem_description. Identify 2-3 key goals needed." USING analyzer
GOAL generate "Generate minimal Agentfile. 3-5 goals max." USING syntax-expert, generator
GOAL output "Write Agentfile to $output_file."

RUN build USING understand, generate, output
