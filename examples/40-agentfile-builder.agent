# 40 - Agentfile Builder
# Generates an Agentfile from a problem description
# Can analyze files/directories referenced in the problem

NAME agentfile-builder
INPUT problem_description
INPUT output_file DEFAULT "generated.agent"

AGENT analyzer FROM agent-builder/understand-problem.md
AGENT syntax-expert FROM agent-builder/agentfile-syntax.md
AGENT generator FROM agent-builder/generate-agentfile.md

GOAL understand "Analyze this problem: $problem_description" USING analyzer
GOAL generate "Generate an Agentfile based on the analysis" USING syntax-expert, generator
GOAL output "Write the Agentfile to $output_file and display it for review"

RUN build USING understand, generate, output
